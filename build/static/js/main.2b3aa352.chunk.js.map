{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/services/galleryApi.js","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ModalImage/ModalImage.js","components/Loader/Loader.js","components/Searchbar/Searchbar.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","params","key","image_type","orientation","per_page","getImage","a","keyword","page","get","q","data","hits","console","log","error","Button","text","buttonAction","className","styles","container","type","onClick","button","ImageGalleryItem","webformatURL","alt","largeImageURL","id","onImageClick","src","image","e","url","target","dataset","largeimageurl","ImageGallery","images","gallery","map","item","tags","Modal","pressEscBtn","code","props","onCloseModal","window","addEventListener","this","removeEventListener","children","overlay","modal","Component","ModalImage","largeImage","protoType","PropTypes","exact","string","isRequired","App","loader","color","height","width","timeout","Searchbar","state","inputValue","onInputValue","name","value","setState","onSubmitSearchForm","preventDefault","onSubmitForm","searchbar","onSubmit","form","label","input","autoComplete","autoFocus","placeholder","onChange","useState","setImages","setLargeImageURL","loading","setLoading","setError","setKeyword","setPage","lastPage","setLastPage","useEffect","fetchImage","scrollDown","scrollTo","top","document","documentElement","scrollHeight","behavior","imageApi","then","totalHits","isLastPage","catch","finally","query","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,UAAY,0BAA0B,OAAS,yB,mBCAjED,EAAOC,QAAU,CAAC,QAAU,8BAA8B,KAAO,6B,mBCAjED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,MAAQ,kC,mBCA1BD,EAAOC,QAAU,CAAC,OAAS,yB,kKCG3BC,IAAMC,SAASC,QAFE,0BAIjBF,IAAMC,SAASE,OAAS,CACtBC,IANc,qCAOdC,WAAY,QACZC,YAAa,aACbC,SAAU,IAGZ,IAYeC,EAZD,uCAAG,8CAAAC,EAAA,6DAAOC,EAAP,+BAAiB,GAAIC,EAArB,yCAEUX,IAAMY,IAAI,GAAI,CACnCT,OAAQ,CAAEU,EAAGH,EAASC,KAAMA,KAHjB,uBAELG,EAFK,EAELA,KAFK,kBAKNA,EAAKC,MALC,yCAObC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OAPf,kBAQN,IARM,0DAAH,qD,wBCKCC,MAff,YAAyC,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aACtB,OACE,qBAAKC,UAAWC,IAAOC,UAAvB,SACE,wBAAQC,KAAK,SAASC,QAASL,EAAcC,UAAWC,IAAOI,OAA/D,SACGP,O,iBC4BMQ,MAhCf,YAMI,IALFC,EAKC,EALDA,aACAC,EAIC,EAJDA,IACAC,EAGC,EAHDA,cACAC,EAEC,EAFDA,GACAC,EACC,EADDA,aAQA,OACE,qBACEC,IAAKL,EACLC,IAAKA,EACLR,UAAWC,IAAOY,MAClB,qBAAoBJ,EACpB,UAASC,EACTN,QAbqB,SAAAU,GACvBH,EAAa,CACXI,IAAKD,EAAEE,OAAOC,QAAQC,cACtBV,IAAKM,EAAEE,OAAOR,U,iBCsBLW,MA9Bf,YAAiD,IAAzBC,EAAwB,EAAxBA,OAAQT,EAAgB,EAAhBA,aAC9B,OACE,oBAAIX,UAAWC,IAAOoB,QAAtB,SACGD,EAAOE,KAAI,SAAAT,GAAK,OACf,oBAAmBb,UAAWC,IAAOsB,KAArC,SACE,cAAC,EAAD,CACEhB,aAAcM,EAAMN,aACpBC,IAAKK,EAAMW,KACXf,cAAeI,EAAMJ,cACrBC,GAAIG,EAAMH,GACVC,aAAcA,KANTE,EAAMH,U,6CC2BRe,E,4MAtBbC,YAAc,SAAAZ,GACG,WAAXA,EAAEa,MACJ,EAAKC,MAAMC,gB,uDAXf,WACEC,OAAOC,iBAAiB,UAAWC,KAAKN,e,kCAG1C,WACEI,OAAOG,oBAAoB,UAAWD,KAAKN,aAC3CM,KAAKJ,MAAMC,iB,oBASb,WACE,MAAmCG,KAAKJ,MAAhCC,EAAR,EAAQA,aAAcK,EAAtB,EAAsBA,SAEtB,OACE,qBAAKlC,UAAWC,IAAOkC,QAAS/B,QAASyB,EAAzC,SACE,qBAAK7B,UAAWC,IAAOmC,MAAvB,SAA+BF,U,GArBnBG,a,gBCDpB,SAASC,EAAT,GAAqC,IAAfC,EAAc,EAAdA,WACZ/B,EAAa+B,EAAb/B,IAAKO,EAAQwB,EAARxB,IACb,OAAO,qBAAKH,IAAKG,EAAKP,IAAKA,IAG7B8B,EAAWE,UAAY,CACrBD,WAAYE,IAAUC,MAAM,CAC1BlC,IAAKiC,IAAUE,OAAOC,WACtB7B,IAAK0B,IAAUE,OAAOC,aACrBA,YAGUN,Q,kCCXMO,E,4JACnB,WACE,OACE,qBAAK7C,UAAWC,IAAO6C,OAAvB,SACE,cAAC,IAAD,CACE3C,KAAK,OACL4C,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,Y,GATcb,a,wBCkDlBc,E,4MAjDbC,MAAQ,CACNC,WAAY,I,EAGdC,aAAe,SAAAxC,GACb,MAAwBA,EAAEE,OAAlBuC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG1BE,mBAAqB,SAAA5C,GACnBA,EAAE6C,iBACF,IAAQN,EAAe,EAAKD,MAApBC,WACR,EAAKzB,MAAMgC,aAAaP,GACxB,EAAKI,SAAS,CAAEJ,WAAY,M,4CAG9B,WACE,IAAQA,EAAerB,KAAKoB,MAApBC,WACR,OACE,wBAAQrD,UAAWC,IAAO4D,UAA1B,SACE,uBACEnD,GAAG,OACHoD,SAAU9B,KAAK0B,mBACf1D,UAAWC,IAAO8D,KAHpB,UAKE,wBAAQ5D,KAAK,SAASH,UAAWC,IAAOI,OAAxC,SACE,sBAAML,UAAWC,IAAO+D,MAAxB,sBAEF,uBACEhE,UAAWC,IAAOgE,MAClB9D,KAAK,OACL+D,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZb,KAAK,aACLC,MAAOH,EACP3C,GAAG,QACH2D,SAAUrC,KAAKsB,wB,GAtCHjB,aCwFTQ,MAlFf,WACE,MAA4ByB,mBAAS,IAArC,mBAAOlD,EAAP,KAAemD,EAAf,KACA,EAA0CD,mBAAS,MAAnD,mBAAO7D,EAAP,KAAsB+D,EAAtB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BJ,mBAAS,MAAnC,mBAAO1E,EAAP,KAAc+E,EAAd,KACA,EAA8BL,mBAAS,IAAvC,mBAAOlF,EAAP,KAAgBwF,EAAhB,KACA,EAAwBN,mBAAS,GAAjC,mBAAOjF,EAAP,KAAawF,EAAb,KACA,EAAgCP,mBAAS,GAAzC,mBAAOQ,EAAP,KAAiBC,EAAjB,KAYAC,qBAAU,WACH5F,GAIL6F,MAEC,CAAC7F,IAEJ4F,qBAAU,WACJ3F,EAAO,GACT6F,MAED,CAAC7F,IAEJ,IAUM6F,EAAa,WACjBpD,OAAOqD,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,YAId,SAASP,IACPP,GAAW,GACXe,EAASrG,EAASC,GACfqG,MAAK,SAAAlG,GACJ+E,GAAU,SAAAnD,GAAM,4BAAQA,GAAR,YAAmB5B,OACnCqF,GAAQ,SAAAxF,GAAI,OAAIA,EAAO,KAtBV,SAAAG,GACjB,IACMmG,EAAYnG,EAAKmG,UADD,GAGpBZ,EADEY,GAAa,GAoBbC,CAAWpG,MAEZqG,OAAM,SAAAjG,GAAK,OAAI+E,EAAS/E,MACxBkG,SAAQ,kBAAMpB,GAAW,MAE9B,OACE,qCACE,cAAC,EAAD,CAAWd,aAvDM,SAAAmC,GACnBnB,EAAWmB,GACXlB,EAAQ,GACRN,EAAU,OAqDPnD,EAAO4E,OAAS,GACf,cAAC,EAAD,CAAc5E,OAAQA,EAAQT,aAAc6D,IAE7C/D,GACC,cAAC,EAAD,CAAOoB,aAtDU,WACrB2C,EAAiB,OAqDb,SACE,cAAC,EAAD,CAAYjC,WAAY9B,MAG3BW,EAAO4E,OAAS,IAAMlB,IAAaL,GAClC,cAAC,EAAD,CAAQ3E,KAAK,YAAYC,aAAckF,IAExCR,GAAW,cAAC,EAAD,IACX7E,GAAS,0C,YC7EhBqG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFd,SAASe,eAAe,U,kBCb1B5H,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,4B","file":"static/js/main.2b3aa352.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__2GU6h\",\"button\":\"Button_button__1feF2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__Jn0i_\",\"item\":\"ImageGallery_item__92t2r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1huNG\",\"modal\":\"Modal_modal__21mnm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__3bDzy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__ReYoX\"};","import axios from 'axios';\r\nconst API_KEY = '20826556-19d7dce6dc96816ed1b7dccf7';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\naxios.defaults.params = {\r\n  key: API_KEY,\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n};\r\n\r\nconst getImage = async (keyword = '', page) => {\r\n  try {\r\n    const { data } = await axios.get('', {\r\n      params: { q: keyword, page: page },\r\n    });\r\n    return data.hits;\r\n  } catch (error) {\r\n    console.log('error', { error });\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default getImage;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nfunction Button({ text, buttonAction }) {\r\n  return (\r\n    <div className={styles.container}>\r\n      <button type=\"button\" onClick={buttonAction} className={styles.button}>\r\n        {text}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  buttonAction: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({\r\n  webformatURL,\r\n  alt,\r\n  largeImageURL,\r\n  id,\r\n  onImageClick,\r\n}) {\r\n  const getlargeImageURL = e => {\r\n    onImageClick({\r\n      url: e.target.dataset.largeimageurl,\r\n      alt: e.target.alt,\r\n    });\r\n  };\r\n  return (\r\n    <img\r\n      src={webformatURL}\r\n      alt={alt}\r\n      className={styles.image}\r\n      data-largeimageurl={largeImageURL}\r\n      data-id={id}\r\n      onClick={getlargeImageURL}\r\n    />\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  alt: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, onImageClick }) {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {images.map(image => (\r\n        <li key={image.id} className={styles.item}>\r\n          <ImageGalleryItem\r\n            webformatURL={image.webformatURL}\r\n            alt={image.tags}\r\n            largeImageURL={image.largeImageURL}\r\n            id={image.id}\r\n            onImageClick={onImageClick}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.pressEscBtn);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.pressEscBtn);\r\n    this.props.onCloseModal();\r\n  }\r\n\r\n  pressEscBtn = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { onCloseModal, children } = this.props;\r\n\r\n    return (\r\n      <div className={styles.overlay} onClick={onCloseModal}>\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Modal;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalImage({ largeImage }) {\r\n  const { alt, url } = largeImage;\r\n  return <img src={url} alt={alt} />;\r\n}\r\n\r\nModalImage.protoType = {\r\n  largeImage: PropTypes.exact({\r\n    alt: PropTypes.string.isRequired,\r\n    url: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default ModalImage;","  import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.loader}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#0F7A8F\"\r\n          height={50}\r\n          width={50}\r\n          timeout={2000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  onInputValue = e => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onSubmitSearchForm = e => {\r\n    e.preventDefault();\r\n    const { inputValue } = this.state;\r\n    this.props.onSubmitForm(inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form\r\n          id=\"form\"\r\n          onSubmit={this.onSubmitSearchForm}\r\n          className={styles.form}\r\n        >\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.label}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"inputValue\"\r\n            value={inputValue}\r\n            id=\"input\"\r\n            onChange={this.onInputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;","import { useState, useEffect } from 'react';\r\nimport imageApi from './components/services/galleryApi';\r\nimport Button from 'components/Button/Button';\r\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\r\nimport Modal from 'components/Modal/Modal';\r\nimport ModalImage from 'components/ModalImage/ModalImage';\r\nimport Loader from 'components/Loader/Loader';\r\nimport Searchbar from 'components/Searchbar/Searchbar';\r\n\r\n\r\nfunction App() {\r\n  const [images, setImages] = useState([]);\r\n  const [largeImageURL, setLargeImageURL] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [keyword, setKeyword] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [lastPage, setLastPage] = useState(1);\r\n\r\n  const onSubmitForm = query => {\r\n    setKeyword(query);\r\n    setPage(1);\r\n    setImages([]);\r\n  };\r\n\r\n  const hideLargeImage = () => {\r\n    setLargeImageURL(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!keyword) {\r\n      return;\r\n    }\r\n\r\n    fetchImage();\r\n    // eslint-disable-next-line\r\n  }, [keyword]);\r\n\r\n  useEffect(() => {\r\n    if (page > 2) {\r\n      scrollDown();\r\n    }\r\n  }, [page]);\r\n\r\n  const isLastPage = data => {\r\n    const perPageImages = 12;\r\n    const totalHits = data.totalHits - perPageImages;\r\n    if (totalHits <= 0) {\r\n      setLastPage(true);\r\n    } else {\r\n      setLastPage(false);\r\n    }\r\n  };\r\n\r\n  const scrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  function fetchImage() {\r\n    setLoading(true);\r\n    imageApi(keyword, page)\r\n      .then(data => {\r\n        setImages(images => [...images, ...data]);\r\n        setPage(page => page + 1);\r\n        isLastPage(data);\r\n      })\r\n      .catch(error => setError(error))\r\n      .finally(() => setLoading(false));\r\n  }\r\n  return (\r\n    <>\r\n      <Searchbar onSubmitForm={onSubmitForm} />\r\n      {images.length > 0 && (\r\n        <ImageGallery images={images} onImageClick={setLargeImageURL} />\r\n      )}\r\n      {largeImageURL && (\r\n        <Modal onCloseModal={hideLargeImage}>\r\n          <ModalImage largeImage={largeImageURL} />\r\n        </Modal>\r\n      )}\r\n      {images.length > 0 && !lastPage && !loading && (\r\n        <Button text=\"Load more\" buttonAction={fetchImage} />\r\n      )}\r\n      {loading && <Loader />}\r\n      {error && <p>ERROR</p>}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\n/* eslint no-undef: \"error\" */\r\n/* eslint-env browser */\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1ulv9\",\"form\":\"Searchbar_form__1LWas\",\"button\":\"Searchbar_button__f7Gzx\",\"label\":\"Searchbar_label__xRO-K\",\"input\":\"Searchbar_input__QzE4h\"};"],"sourceRoot":""}